# Управление пользователями

## Назначение страницы
- **Маршрут:** `GET /admin/users/create`
- **Описание:** форма для супер администратора, позволяющая регистрировать новых пользователей системы, назначая им роли для работы с компаниями.
- **Ответственный контроллер:** `App\Http\Controllers\Admin\UserController@create`
- **Шаблон:** `resources/views/admin/users/create.blade.php`

## Список пользователей
- **Маршрут:** `GET /admin/users`
- **Описание:** таблица с поиском и фильтрами по роли для просмотра всех учетных записей пользователей.
- **Ответственный контроллер:** `App\Http\Controllers\Admin\UserController@index`
- **Шаблон:** `resources/views/admin/users/index.blade.php`
- **Особенности:** поддерживает фильтрацию по имени/email и роли, пагинация с шагом 15 записей, быстрый переход к созданию нового пользователя.

## Процесс создания пользователя
1. Супер админ заполняет форму: имя, email, роль, пароль и подтверждение пароля.
2. Данные валидируются на клиенте (FormValidation) и сервере (`App\Http\Requests\Admin\StoreUserRequest`).
3. После успешной валидации запрос обрабатывается методом `store`, создающим запись в таблице `users`.
4. Пользователь получает роль:
   - `company_admin` — управляет профилем компании и данными.
   - `company_viewer` — имеет доступ только к просмотру.
5. После сохранения отображается уведомление об успешном создании.

## Изменения в данных
- Таблица `users` дополнена столбцом `role` (`database/migrations/2025_11_11_000100_add_role_to_users_table.php`).
- Модель `User` содержит константы ролей и заполняемые атрибуты (`app/Models/User.php`).

